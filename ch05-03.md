## ch05-04.方法引用

### 一、概念

- 函数式接口的实现除了有Lambda表达式外，还有方法引用、构造器引用和数组引用的实现；
- 方法引用可以看做是lambda表达式深层次的表达。换句话说，方法引用就是lambda表达式，也就是函数式接口的一个对象（实例）；
- 方法引用是一种引用方法的轻量级语法；

> Labmda表达式是函数式接口中抽象方法的实现
>
> 如果已经存在一个实现了Lambda表达式的方法，那么就不需要编写Lambda表达式，而直接使用这个已经存在的方法，这称之为方法引用



### 二、使用场景

在Lambda表达式中，如果**Lambda体**的操作，已经有实现的方法了，那么就可以使用**方法引用**。



### 三、要求

函数式接口的抽象方法的参数列表，必须与方法引用的方法的参数列表保持一致，而返回值类型原则上也需要保持一致。

- 如果抽象方法的返回值为void，而方法引用的方法有返回值，则忽略；
- 抽象方法的返回值类型（如：double）必须能兼容方法引用的方法返回值类型（如：int）。

```java
Comparator<Integer> comparator = (x,y) -> Integer.compare(x,y) ;
Comparator<Integer> comparator = Integer::compare;
```



### 四、语法

- 使用操作符 “::” 将类（或对象）与方法名分割开来（是已经实现好的方法名及其所在的类或对象）；
- 可以看成左边的类或对象是调用者，右边的方法是被调用者。

以下是六种不同类型的方法引用：

| 类型                       | 例子                                |
| :------------------------- | :---------------------------------- |
| 静态方法的引用             | `类名::静态方法`                    |
| 成员方法的引用             | `对象::成员方法`                    |
| 特定类型方法的引用         | `类名::成员方法`                    |
| 构造器引用                 | `类名::new`                         |
| 数组引用                   | `数据类型[]::new`                   |
| 父类方法引用、本类方法引用 | `super::成员方法`、`this::成员方法` |



### 五、案例

1、成员方法的引用

2、静态方法的引用



3、父类方法引用

4、本类方法引用



5、特定类型方法的引用



6、构造方法的引用



7、数组引用
